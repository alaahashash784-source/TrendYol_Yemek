@model IEnumerable<mvc_full.Models.Restoran>

@{
    ViewBag.Title = "Ana Sayfa - TrendYol Yemek";
}

@section styles {
    @Styles.Render("~/Content/css/home-page.css")
}

@Html.AntiForgeryToken()

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="display-3 fw-bold text-white mb-4 animate__animated animate__fadeInLeft">
                        ???? ????
                        <span class="text-warning">?? ??????!</span>
                    </h1>
                    <p class="lead text-light mb-5 animate__animated animate__fadeInLeft animate__delay-1s">
                        ???? ???? ??????? ?? ?????? ??????? ??????? ?????? ???? ?? ????? ?? ???? ?????
                    </p>
                    <div class="hero-buttons animate__animated animate__fadeInUp animate__delay-2s">
                        @Html.ActionLink("???? ???????", "Index", "Restaurant", null, new { @class = "btn btn-warning btn-lg me-3 px-4 py-3 fw-bold" })
                        @Html.ActionLink("??? ???????", "Index", "Food", null, new { @class = "btn btn-outline-light btn-lg px-4 py-3 fw-bold" })
                    </div>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image animate__animated animate__fadeInRight animate__delay-1s">
                    <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=500&h=400&fit=crop" alt="???? ???" class="img-fluid floating-animation">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scroll Down Indicator -->
    <div class="scroll-indicator">
        <i class="fas fa-chevron-down animate__animated animate__bounce animate__infinite"></i>
    </div>
</section>

<!-- Search Section -->
<section class="search-section py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="search-card card shadow-lg border-0 p-4">
                    <div class="row align-items-center">
                        <div class="col-md-4">
                            <div class="input-group">
                                <span class="input-group-text bg-primary text-white border-0">
                                    <i class="fas fa-map-marker-alt"></i>
                                </span>
                                <input type="text" class="form-control form-control-lg border-0" placeholder="???? ??????">
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="input-group">
                                <span class="input-group-text bg-success text-white border-0">
                                    <i class="fas fa-search"></i>
                                </span>
                                <input type="text" class="form-control form-control-lg border-0" placeholder="???? ?? ???? ?? ????...">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-warning btn-lg w-100 fw-bold">
                                <i class="fas fa-search me-2"></i>???
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="display-5 fw-bold text-primary mb-3">????? TrendYol Yemek?</h2>
                <p class="lead text-muted">??? ??? ????? ?? ???? ????? ???? ?????</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <i class="fas fa-shipping-fast fa-4x text-primary"></i>
                    </div>
                    <h4 class="fw-bold mb-3">????? ????</h4>
                    <p class="text-muted">???? ???? ?? ??? ?? 30 ????? ?? ???? ?????? ????????</p>
                    <div class="feature-stats">
                        <span class="badge bg-primary fs-6">???? 25 ?????</span>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <i class="fas fa-credit-card fa-4x text-success"></i>
                    </div>
                    <h4 class="fw-bold mb-3">??? ???</h4>
                    <p class="text-muted">???? ????? ???????? ???????? ?????????? ?? ????? ??? ????????</p>
                    <div class="feature-stats">
                        <span class="badge bg-success fs-6">SSL ????</span>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card text-center p-4 h-100">
                    <div class="feature-icon mb-4">
                        <i class="fas fa-headset fa-4x text-warning"></i>
                    </div>
                    <h4 class="fw-bold mb-3">??? 24/7</h4>
                    <p class="text-muted">???? ???? ??????? ???? ?????? ???????? ???????? ??? ??????????</p>
                    <div class="feature-stats">
                        <span class="badge bg-warning fs-6">??? ????</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Restaurants Section -->
@if (Model != null && Model.Any())
{
    <section class="restaurants-section py-5 bg-light">
        <div class="container">
            <div class="row align-items-center mb-5">
                <div class="col-md-6">
                    <h2 class="display-5 fw-bold text-primary mb-3">??????? ???????</h2>
                    <p class="lead text-muted">???? ?? ??? ???? ??????? ?? ???????</p>
                </div>
                <div class="col-md-6">
                    @Html.ActionLink("??? ???? ???????", "Index", "Restaurant", null, new { @class = "btn btn-primary btn-lg" })
                </div>
            </div>
            
            <div class="row">
                @foreach (var restaurant in Model.Take(6))
                {
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="restaurant-card card border-0 shadow-hover h-100">
                            <div class="restaurant-image-container">
                                <img src="@(string.IsNullOrEmpty(restaurant.ResimUrl) ? "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=200&fit=crop" : restaurant.ResimUrl)" 
                                     class="card-img-top restaurant-image" alt="@restaurant.Ad">
                                <div class="restaurant-overlay">
                                    <div class="overlay-content">
                                        @Html.ActionLink("??? ???????", "ByRestaurant", "Food", new { id = restaurant.RestoranId }, new { @class = "btn btn-light btn-sm" })
                                    </div>
                                </div>
                                <div class="restaurant-badge">
                                    <span class="badge bg-success">?????</span>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <h5 class="card-title fw-bold mb-2">@restaurant.Ad</h5>
                                <p class="card-text text-muted small mb-3">
                                    @(string.IsNullOrEmpty(restaurant.Aciklama) ? "???? ??????? ?? ??????? ???" : restaurant.Aciklama)
                                </p>
                                <div class="restaurant-info d-flex justify-content-between align-items-center">
                                    <div class="rating">
                                        @for (int i = 1; i <= 5; i++)
                                        {
                                            <i class="fas fa-star text-warning"></i>
                                        }
                                        <span class="text-muted ms-1">(4.8)</span>
                                    </div>
                                    <div class="delivery-time">
                                        <small class="text-primary fw-bold">
                                            <i class="fas fa-clock me-1"></i>30-45 ?????
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </section>
}
else
{
    <section class="empty-restaurants py-5 bg-light text-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="empty-state">
                        <i class="fas fa-store fa-5x text-muted mb-4"></i>
                        <h3 class="text-muted mb-3">?? ???? ????? ?????</h3>
                        <p class="text-muted mb-4">???? ?????? ????? ????? ????? ??? ??????</p>
                        @Html.ActionLink("????? ????", "Create", "Restaurant", null, new { @class = "btn btn-primary btn-lg" })
                    </div>
                </div>
            </div>
        </div>
    </section>
}

<!-- Statistics Section -->
<section class="stats-section py-5">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 mb-4">
                <div class="stat-item">
                    <div class="stat-number text-white fw-bold display-4" data-count="1500">0</div>
                    <div class="stat-label text-light">??? ???</div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="stat-item">
                    <div class="stat-number text-white fw-bold display-4" data-count="50000">0</div>
                    <div class="stat-label text-light">???? ????</div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="stat-item">
                    <div class="stat-number text-white fw-bold display-4" data-count="250000">0</div>
                    <div class="stat-label text-light">??? ????</div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="stat-item">
                    <div class="stat-number text-white fw-bold display-4" data-count="25">0</div>
                    <div class="stat-label text-light">????? ??????</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="display-4 fw-bold text-white mb-4">???? ?????</h2>
                <p class="lead text-light mb-5">???? ??? ???? ??????? ??????? ??????? ?????? ???? ?????</p>
                <div class="cta-buttons">
                    @if (Session["MusteriId"] == null)
                    {
                        @Html.ActionLink("????? ???? ????", "Register", "Account", null, new { @class = "btn btn-warning btn-lg px-5 py-3 fw-bold me-3" })
                        @Html.ActionLink("????? ??????", "Login", "Account", null, new { @class = "btn btn-outline-light btn-lg px=5 py-3 fw-bold" })
                    }
                    else
                    {
                        @Html.ActionLink("???? ????? ????", "Index", "Restaurant", null, new { @class = "btn btn-warning btn-lg px=5 py-3 fw-bold" })
                    }
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Additional Features Section -->
<section class="additional-features py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="feature-item text-center p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-shipping-fast fa-3x text-primary"></i>
                    </div>
                    <h4 class="fw-bold mb-3">????? ????</h4>
                    <p class="text-muted">
                        ?????? ??? ?? ??? ?? 30 ?????! 
                        ???? ??????? ??????? ????? ????? ??? ??? ?????.
                    </p>
                    @Html.ActionLink("?????? ?? ?????????", "About", null, new { @class = "btn btn-outline-primary" })
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="feature-item text-center p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-shield-alt fa-3x text-success"></i>
                    </div>
                    <h4 class="fw-bold mb-3">??? ???</h4>
                    <p class="text-muted">???? ????? ???????? ??????? ?????????? ?? ????? ??? ???????.</p>
                    @Html.ActionLink("????? ????", "Contact", null, new { @class = "btn btn-outline-success" })
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="feature-item text-center p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-headset fa-3x text-info"></i>
                    </div>
                    <h4 class="fw-bold mb-3">??? 7/24</h4>
                    <p class="text-muted">???? ???? ??????? ???? ?????? ??????? ??? ?????????? ????????.</p>
                    @Html.ActionLink("????????", "Contact", null, new { @class = "btn btn-outline-info" })
                </div>
            </div>
        </div>
    </div>
</section>

@section scripts {
    <script>
        $(document).ready(function() {
            // Animate statistics on scroll
            var animated = false;
            $(window).scroll(function() {
                var statsOffset = $('.stats-section').offset().top;
                var scrollTop = $(window).scrollTop();
                var windowHeight = $(window).height();

                if (!animated && scrollTop + windowHeight > statsOffset + 100) {
                    animated = true;
                    $('.stat-number').each(function() {
                        var $this = $(this);
                        var countTo = parseInt($this.attr('data-count'));
                        
                        $({ countNum: 0 }).animate({
                            countNum: countTo
                        }, {
                            duration: 3000,
                            easing: 'linear',
                            step: function() {
                                $this.text(Math.floor(this.countNum).toLocaleString());
                            },
                            complete: function() {
                                $this.text(countTo.toLocaleString());
                            }
                        });
                    });
                }

                // Parallax effect for hero section
                var scrolled = $(this).scrollTop();
                $('.hero-section').css('transform', 'translateY(' + (scrolled * 0.3) + 'px)');
            });

            // Restaurant card hover effects
            $('.restaurant-card').hover(
                function() {
                    $(this).addClass('shadow-lg').removeClass('shadow-hover');
                },
                function() {
                    $(this).removeClass('shadow-lg').addClass('shadow-hover');
                }
            );

            // Smooth scrolling for scroll indicator
            $('.scroll-indicator').click(function() {
                $('html, body').animate({
                    scrollTop: $('.search-section').offset().top
                }, 1000);
            });

            // Search functionality
            $('.search-section button').click(function() {
                var location = $('.search-section input').first().val();
                var query = $('.search-section input').last().val();
                
                if (query.trim()) {
                    // Redirect to search results
                    window.location.href = '@Url.Action("Search", "Food")?q=' + encodeURIComponent(query);
                }
            });

            // Add loading effect to buttons
            $('.btn').not('.no-loading').click(function(e) {
                var $btn = $(this);
                var originalText = $btn.html();
                
                // Skip if it's a link that opens in new tab/window
                if ($btn.attr('target') === '_blank' || $btn.hasClass('no-loading')) {
                    return;
                }
                
                $btn.html('<i class="fas fa-spinner fa-spin me-2"></i>???? ???????...');
                $btn.prop('disabled', true);
                
                setTimeout(function() {
                    $btn.html(originalText);
                    $btn.prop('disabled', false);
                }, 1500);
            });

            // Animate elements on scroll
            $(window).scroll(function() {
                $('.animate-on-scroll').each(function() {
                    var elementTop = $(this).offset().top;
                    var elementBottom = elementTop + $(this).outerHeight();
                    var viewportTop = $(window).scrollTop();
                    var viewportBottom = viewportTop + $(window).height();

                    if (elementBottom > viewportTop && elementTop < viewportBottom) {
                        $(this).addClass('animated');
                    }
                });
            });

            // Add smooth transitions to feature cards
            $('.feature-card, .feature-item').addClass('animate-on-scroll');

            // Initialize tooltip if Bootstrap is available
            if (typeof $().tooltip === 'function') {
                $('[data-toggle="tooltip"]').tooltip();
            }

            // Add ripple effect to buttons
            $('.btn').on('click', function(e) {
                var ripple = $('<span class="ripple"></span>');
                var rect = this.getBoundingClientRect();
                var size = Math.max(rect.width, rect.height);
                var x = e.clientX - rect.left - size / 2;
                var y = e.clientY - rect.top - size / 2;
                
                ripple.css({
                    width: size,
                    height: size,
                    left: x,
                    top: y
                }).appendTo(this);
                
                setTimeout(function() {
                    ripple.remove();
                }, 600);
            });
        });
    </script>
}

<style>
    /* Ripple effect for buttons */
    .btn {
        position: relative;
        overflow: hidden;
    }

    .ripple {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.4);
        transform: scale(0);
        animation: @@keyframes ripple-animation 0.6s linear;
        pointer-events: none;
    }

    @@keyframes ripple-animation {
        to {
            transform: scale(2);
            opacity: 0;
        }
    }
</style>